(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}})();function d(){return localStorage.getItem("storage")||C(),JSON.parse(localStorage.getItem("storage"))}function C(){localStorage.setItem("storage",JSON.stringify({}))}function N(o,e){const s=d();s[o]={...s[o],[e.title]:e},localStorage.setItem("storage",JSON.stringify(s))}function T(o,e){const s=d();s[o][e.title]={...s[o][e.title],...e},localStorage.setItem("storage",JSON.stringify(s)),console.log(d())}function I(o,e){const s=d(),n=s[o];delete n[e],localStorage.setItem("storage",JSON.stringify(s))}function $(o){const e=d();e[o]={},localStorage.setItem("storage",JSON.stringify(e))}function x(o){const e=d();delete e[o],localStorage.setItem("storage",JSON.stringify(e))}const r={dialog:document.querySelector("#dialog-project"),input:document.querySelector("#project-name"),form:document.querySelector("#form-dialog-project"),add:document.querySelector("#add-project"),addName:document.querySelector("#add-project-name"),close:document.querySelector("#return-project"),list:document.querySelector("#project-list"),empty:document.querySelector("#empty-project"),emptyDialog:document.querySelector("#dialog-empty-project"),confirm:document.querySelector("#confirm-empty-project"),cancel:document.querySelector("#cancel-empty-project")};class A{projectName="";staticLen=Object.keys(d()).length;constructor(){this.addToProjects=this.addToProjects.bind(this),this.closeDialog=this.closeDialog.bind(this)}addToProjects(){const e=Object.keys(d());if(this.projectName=r.input.value===""?`Project${e?this.staticLen:1}`:r.input.value,e.includes(this.projectName)){console.log("Name Taken");return}else return $(this.projectName),this.staticLen+=1,r.input.value="",console.log(e),this.projectName}closeDialog(e){e.preventDefault(),r.dialog.close()}}const q={space:document.querySelector("#task-space")};let P=!0,b=!1;class D{initTaskSpace(){Array.from(q.space.children).forEach(e=>e.remove()),this.initTaskDetails()}initTaskDetails(){document.querySelector("#task-card")&&document.querySelector("#task-card").remove()}initProjectTask(e){document.querySelector(`#${e}Container`)&&document.querySelector(`#${e}Container`).remove()}renderTaskSpace(e){this.initTaskSpace(),e.forEach(s=>this.renderProjectTask(s)),console.log(e),P=!0}renderTasks(e,s,n){const t=document.createElement("li"),c=document.createElement("span"),a=document.createElement("div"),u=document.createElement("button"),l=document.createElement("icon"),L=document.createElement("div"),i=document.createElement("button"),f=document.createElement("icon"),v=d();let m={};const k=v[e];a.append(u),a.append(c),t.setAttribute("tabindex","0"),t.classList.add("task-item"),c.innerHTML=n,i.id=n,a.classList.add("task-item-sub-cont"),f.classList.add("ri-close-line","task-remove-btn-logo","logo"),i.classList.add("task-remove-btn","hidden"),i.append(f),L.append(i),m=k[n]?k[n]:m={title:n,description:"",date:"",done:!1},u.addEventListener("click",p=>{p.stopPropagation(),m.done=!0,T(e,m),l.classList.add("ri-checkbox-circle-line","logo","text-[rgb(255,255,255,0.5)]"),c.classList.add("line-through","text-[rgb(255,255,255,0.5)]"),f.classList.add("text-[rgb(255,255,255,0.5)]"),this.initTaskDetails(),this.renderTaskDetails(e,m)}),m.done?(l.classList.add("ri-checkbox-circle-line","logo","text-[rgb(255,255,255,0.5)]"),c.classList.add("line-through","text-[rgb(255,255,255,0.5)]"),f.classList.add("text-[rgb(255,255,255,0.5)]")):l.classList.add("ri-checkbox-blank-circle-line","logo"),u.append(l),t.addEventListener("mousedown",()=>{document.querySelectorAll(".task-remove-btn").forEach(p=>p.classList.add("hidden")),i.classList.remove("hidden"),b=i.id,console.log(m.done)}),t.addEventListener("mouseover",()=>{document.querySelectorAll(".task-remove-btn").forEach(p=>p.classList.add("hidden")),document.querySelector(`#${b}`)&&document.querySelector(`#${b}`).classList.remove("hidden"),i.classList.remove("hidden")}),t.addEventListener("mouseleave",()=>{document.querySelectorAll(".task-remove-btn").forEach(p=>p.classList.add("hidden")),document.querySelector(`#${b}`)&&document.querySelector(`#${b}`).classList.remove("hidden")}),t.addEventListener("click",()=>{this.initTaskDetails(),this.renderTaskDetails(e,m)}),i.addEventListener("click",p=>{p.stopPropagation(),this.initTaskDetails(),this.removeTasks(e,t,n)}),t.append(a),t.append(i),s.append(t),N(e,m)}renderTaskDetails(e,s){const n=["Urgent","Important","Optional"],t=document.createElement("section"),c=document.createElement("h3"),a=document.createElement("div"),u=document.createElement("span"),l=document.createElement("section"),L=document.createElement("div"),i=document.createElement("input"),f=document.createElement("div");l.classList.add("task-specifics-container");const v=document.createElement("div"),m=document.createElement("textarea"),k=document.createElement("label"),p=document.createElement("icon"),h=document.createElement("div");p.classList.add("ri-arrow-left-double-line","logo","text-4xl"),h.classList.add("flex","flex-row","place-content-between"),u.innerHTML=s.done?"Completed":"Ongoing",a.classList.add("task-card-sub-nav"),s.done?u.classList.add("task-status-badge","bg-accent-1"):u.classList.add("task-status-badge"),a.append(c),a.append(u),h.append(a),h.append(p),k.innerHTML="NOTES",m.value=s.description,i.value=s.date,v.classList.add("task-note-container"),v.append(k),v.append(m),m.classList.add("task-note"),i.setAttribute("type","date"),i.classList.add("text-white","bg-black","p-4","rounded-2xl"),n.forEach(g=>{const y=document.createElement("button");y.innerHTML=g,g==="Urgent"?(y.classList.add("priority-urgent-btn"),y.addEventListener("click",()=>{document.querySelector(".priority-important-btn-selected")?document.querySelector(".priority-important-btn-selected").classList.remove("priority-important-btn-selected"):document.querySelector(".priority-optional-btn-selected")&&document.querySelector(".priority-optional-btn-selected").classList.remove("priority-optional-btn-selected"),y.classList.add("priority-urgent-btn-selected")})):g==="Important"?(y.classList.add("priority-important-btn"),y.addEventListener("click",()=>{document.querySelector(".priority-important-btn-selected")?document.querySelector(".priority-urgent-btn-selected").classList.remove("priority-urgent-btn-selected"):document.querySelector(".priority-optional-btn-selected")&&document.querySelector(".priority-optional-btn-selected").classList.remove("priority-optional-btn-selected"),y.classList.add("priority-important-btn-selected")})):g==="Optional"&&(y.classList.add("priority-optional-btn"),y.addEventListener("click",()=>{document.querySelector(".priority-important-btn-selected")?document.querySelector(".priority-important-btn-selected").classList.remove("priority-important-btn-selected"):document.querySelector(".priority-urgent-btn-selected")&&document.querySelector(".priority-urgent-btn-selected").classList.remove("priority-urgent-btn-selected"),y.classList.add("priority-optional-btn-selected")})),L.classList.add("priority-buttons"),L.append(y)}),f.append(L),l.append(i),l.append(f),t.id="task-card",c.innerHTML=s.title,c.classList.add("task-card-label"),t.classList.add("task-card"),t.append(h),t.append(l),t.append(v),p.addEventListener("click",g=>{g.stopPropagation(),document.querySelector("#task-card")&&document.querySelector("#task-card").remove()}),m.addEventListener("input",()=>{s.description=m.value,T(e,s)}),i.addEventListener("input",()=>{s.date=i.value,T(e,s)}),q.space.append(t)}renderProjectTask(e){const s=document.createElement("div"),n=document.createElement("ul"),t=document.createElement("h2"),c=document.createElement("div"),a=document.createElement("icon"),u=document.createElement("button"),l=document.createElement("input"),L=document.createElement("div"),i=document.createElement("icon");s.classList.add("task-container"),s.id=`${e}Container`,t.innerHTML=e,t.classList.add("px-2"),c.classList.add("task-list-nav"),a.classList.add("ri-arrow-left-s-line","logo","text-2xl"),n.classList.add("task-list"),l.classList.add("task-input"),l.setAttribute("placeholder","+ Add New Task"),i.classList.add("ri-arrow-up-circle-line","text-2xl","pl-4"),u.setAttribute("type","submit"),u.append(i),L.append(l),L.append(u),c.append(t),c.append(a),s.append(c),s.append(n),s.append(L),u.addEventListener("click",()=>{l.value!==""&&(this.renderTasks(e,n,l.value),l.value="")}),a.addEventListener("click",()=>{this.initProjectTask(e)}),d()[e]&&Object.keys(d()[e]).forEach(f=>{this.renderTasks(e,n,f)}),q.space.append(s)}renderSpecificProject(e){this.initTaskSpace(),this.renderProjectTask(e),P=!1}removeProjects(e){P===!1?document.querySelector(`#${e}Container`)&&document.querySelector(`#${e}Container`).remove():document.querySelector(`#${e}Container`)&&document.querySelector(`#${e}Container`).remove()}removeTasks(e,s,n){this.initTaskDetails(),s.remove(),I(e,n)}}const O={profile:document.querySelector("#profile"),myProjects:document.querySelector("#my-projects"),settings:document.querySelector("#settings")};window.document.documentElement.style.colorScheme="dark";window.onload=()=>{r.input.oninput=B};let S="",j=!0;const M=new A,E=new D;function B(){const o={"^\\S{0,10}$":"Project name cannot contain whitespaces.",takenName:"Project name is already taken."},e=r.input.value,s=new RegExp(Object.keys(o)[0],"i");let n=r.input.value in d();s.test(e)&&n===!1?(r.input.setCustomValidity(""),j=!0):s.test(e)?n&&(r.input.setCustomValidity(o.takenName),j=!1):(r.input.setCustomValidity(o["^\\S{0,10}$"]),j=!1)}function H(){Array.from(r.list.children).forEach(o=>o.remove()),Object.keys(d()).forEach(o=>{x(o),E.removeProjects(o)})}Object.keys(d()).forEach(o=>w(o));O.myProjects.addEventListener("click",()=>{E.renderTaskSpace(Object.keys(d()))});O.profile.addEventListener("click",()=>{console.log(d())});r.empty.addEventListener("click",()=>{r.emptyDialog.showModal(),r.cancel.addEventListener("click",()=>r.emptyDialog.close()),r.confirm.addEventListener("click",H)});r.add.addEventListener("click",()=>{r.dialog.showModal()});r.addName.addEventListener("click",()=>{if(j){let o=M.addToProjects();w(o)}r.input.value=""});r.close.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault(),r.dialog.close(),r.input.value=""});function w(o="Project0"){const e=document.createElement("li"),s=Object.keys(d()),n=document.createElement("button"),t=document.createElement("span"),c=document.createElement("i");t.innerHTML=o,n.classList.add("remove-project-item-btn"),c.classList.add("remove-project-item-btn-logo","ri-folder-reduce-line"),n.append(c),e.id=o,e.classList.add("project-item"),e.append(t),t.classList.add("p-4"),e.append(n),r.list.append(e),E.renderTaskSpace(s),e.addEventListener("mousedown",()=>{document.querySelectorAll(".project-item-selected").forEach(a=>a.classList.remove("project-item-selected")),e.setAttribute("tabindex","0"),e.classList.add("text-white"),S=e.id,S&&document.querySelector(`#${S}`).classList.remove("project-item-label-selected"),e.addEventListener("focusout",()=>{document.querySelector(`#${S}`).classList.add("project-item-selected")})}),e.addEventListener("mouseenter",()=>{document.querySelectorAll(".project-item-label-selected").forEach(a=>a.classList.remove("project-item-label-selected")),e.addEventListener("mousedown",()=>{t.classList.remove("project-item-label-selected")}),e.id===S?t.classList.remove("project-item-label-selected"):t.classList.add("project-item-label-selected")}),e.addEventListener("mouseleave",()=>{t.classList.remove("project-item-label-selected")}),e.addEventListener("click",()=>{E.renderSpecificProject(o),e.classList.add("project-item")}),n.addEventListener("click",a=>{a.stopPropagation(),e.remove(),E.removeProjects(o),x(o)})}
